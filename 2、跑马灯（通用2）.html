<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>跑马灯效果</title>
    <style>
        .box {
            width: 600px;
            height: 200px;
            border:1px solid black;
            overflow: hidden;
        }
        .databox {
            width:100%;
            position: relative;
            left: 0px;
        }
    </style>
</head>
<body>
    <div class='box'>
        <div class='databox' id="warnMsg">
        </div>

    </div>

</body>
<script src="js/jquery.3.4.1.js"></script>
<script>
    var arr = [
        {
            name: '北京市燃气费（第三方）',
            area: '正常'
        },
        {
            name: '云南省移动通讯费',
            area: '正常'
        },
        {
            name: '太原新朗格培训费',
            area: '正常'
        },
        {
            name: '上海市市北/威立雅自来水费',
            area: '正常'
        },
        {
            name: '沧州市昊天热力供暖费',
            area: '正常'
        },
       
    ]
    var str;

    function createEle(ele) {
        if (ele.id % 2 == 0) {
            str = '<div class="content addColor"><span>' + ele.name + '</span><span class="num">' + ele.num +
                '</span><span>' + ele.area + '</span></div>'
        } else {
            str = '<div class="content"><span>' + ele.name + '</span><span class="num">' + ele.num + '</span><span>' +
                ele
                .area + '</span></div>'
        }
        return str
    }

    function Num() {
        var x = 200000;
        var y = 30000; //随意调数字，现在是90-100以内的随机数
        var rand = parseInt(Math.random() * (x - y + 1) + y);
        return rand
    }
    arr.forEach(function (ele, i) {
        ele.id = i;
        var num = Num()
        ele.num = num
        // console.log(ele)
        var div = createEle(ele)
        $('#warnMsg').append(div)
    })

    scroll($('#warnMsg'));
    function scroll(doc) {
        var parentWidth = doc.parent('div').height();
        var docWidth = doc.height();
        doc.css('top', parentWidth + 'px');
        var timer = setInterval(function () {
            if (parseInt(doc.css('top')) > -docWidth) {
                doc.css('top', (parseInt(doc.css('top')) - 1) + "px");
            } else {
                doc.css('top', parentWidth + 'px');
            }
        }, 30);


    }
</script>


</html>